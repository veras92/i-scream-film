!function(){function e(e){return e&&e.__esModule?e.default:e}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},n={},r={},i=t.parcelRequired7c6;null==i&&((i=function(e){if(e in n)return n[e].exports;if(e in r){var t=r[e];delete r[e];var i={id:e,exports:{}};return n[e]=i,t.call(i.exports,i,i.exports),i.exports}var a=new Error("Cannot find module '"+e+"'");throw a.code="MODULE_NOT_FOUND",a}).register=function(e,t){r[e]=t},t.parcelRequired7c6=i),i("4Nugj");var a=i("bpxeT"),o=i("2TvXO"),l=i("cokon"),c=i("gQOBw"),u=i("9Vqzl"),s=i("flcv8"),f=i("4Nugj"),d=i("kvC6y"),p=i("eY4ce");window.addEventListener("load",(function(){f.refs.list.innerHTML='<li class="library-title-item"><h2 class="library-title-main">Welcome to your library</h2></li>'}));var h=document.querySelector(".js-watched-button"),v=document.querySelector(".js-queue-button");function y(){return(y=e(a)(e(o).mark((function t(n,r){var i,a,c,u,s;return e(o).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,(0,d.showLoader)(),i=(0,l.getDatabase)(p.app),a=(0,l.ref)(i,"".concat(n,"/").concat(r)),e.next=6,(0,l.get)(a);case 6:if(c=e.sent,u=c.val(),"watched"===r&&(u||(f.refs.list.innerHTML='<li class="library-title-item"><h2 class="library-title-main">You have nothing on your watch list</h2></li>')),"queue"===r&&(u||(f.refs.list.innerHTML='<li class="library-title-item"><h2 class="library-title-main">There is nothing in the queue</h2></li>')),!u){e.next=17;break}return s=Object.values(u),console.log(s),b(s),e.abrupt("return",s);case 17:return e.abrupt("return",[]);case 18:e.next=23;break;case 20:e.prev=20,e.t0=e.catch(0),console.error(e.t0);case 23:return e.prev=23,(0,d.hideLoader)(),e.finish(23);case 26:case"end":return e.stop()}}),t,null,[[0,20,23,26]])})))).apply(this,arguments)}function b(e){return w.apply(this,arguments)}function w(){return(w=e(a)(e(o).mark((function t(n){var r,i;return e(o).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=new(0,u.FimlsApi),e.next=3,Promise.all(n.map((function(e){return r.getFilmById(e)})));case 3:i=e.sent,console.log(i),g((0,s.createHomepageCards)(i));case 7:case"end":return e.stop()}}),t)})))).apply(this,arguments)}function g(e){f.refs.list.innerHTML=e}function m(e){(0,c.getAuth)().onAuthStateChanged((function(t){t&&function(e,t){y.apply(this,arguments)}(t.uid,e)}))}h.addEventListener("click",(function(){m("watched")})),v.addEventListener("click",(function(){m("queue")})),i("puS1k"),i("kWfXz"),i("fYPNS"),i("flcv8"),i("9Vqzl"),i("kvC6y"),i("iNWLi"),i("5UNtS"),i("eY4ce"),i("6VMVE")}();
//# sourceMappingURL=library.83b60359.js.map
